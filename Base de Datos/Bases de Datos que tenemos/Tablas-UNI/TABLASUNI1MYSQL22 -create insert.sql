CREATE DATABASE EMPRESAMY2

DEFAULT CHARACTER SET utf8
DEFAULT COLLATE utf8_general_ci;


USE EMPRESAMY2;

CREATE TABLE DEPART (
 DEPT_NO tinyint PRIMARY KEY,
 DNOMBRE  VARCHAR(14), 
 LOC      VARCHAR(14) )engine=INNODB;
INSERT INTO DEPART VALUES (10,'CONTABILIDAD','SEVILLA');
INSERT INTO DEPART VALUES (20,'INVESTIGACIÓON','MADRID');
INSERT INTO DEPART VALUES (30,'VENTAS','BARCELONA');
INSERT INTO DEPART VALUES (40,'PRODUCCIÓN','BILBAO');
commit;

CREATE TABLE EMPLE (
 EMP_NO      tinyint NOT NULL AUTO_INCREMENT  ,
 APELLIDO  VARCHAR(10)  ,
 OFICIO    VARCHAR(20)  ,
 DIR     tinyint ,
 FECHA_ALT DATE      ,
 SALARIO   INT,
 COMISION smallint,
 DEPT_NO   tinyint NOT NULL,
 PRIMARY KEY (EMP_NO) ,
 FOREIGN KEY (DEPT_NO) REFERENCES 
 DEPART( DEPT_NO) on delete cascade,
  FOREIGN KEY (DIR) REFERENCES 
 EMPLE (EMP_NO  ) on delete cascade
 )engine=INNODB;
 
ALTER TABLE EMPLE MODIFY SALARIO FLOAT;
INSERT INTO DEPART VALUES (50, 'I+D+I', 'MÁLAGA');

INSERT INTO `empresamy2`.`EMPLE` (`EMP_NO`, `APELLIDO`, `OFICIO`, `FECHA_ALT`,`SALARIO`, `DEPT_NO`)
VALUES (null, 'GARCÍA', 'DIRECTOR FINANCIERO', '2020-12-12', '20000', '10');
INSERT INTO EMPLE VALUES (NULL,'SÁNCHEZ','EMPLEADO',NULL,'2012-12-17',104000,NULL,20);
INSERT INTO EMPLE VALUES (NULL,'ARROYO','VENDEDOR',1,'1999-02-20',208000,250,30);
INSERT INTO EMPLE VALUES (NULL,'SALA','VENDEDOR',1,'1999-02-22',162500,450,30);
INSERT INTO EMPLE VALUES (NULL,'JIMÉNEZ','DIRECTOR',1,'2003-04-02',386750,NULL,20);
INSERT INTO EMPLE VALUES (NULL,'MARTÍN','VENDEDOR',1,'2009-09-29',162500,700,30);
INSERT INTO EMPLE VALUES (NULL,'NEGRO','DIRECTOR',1,'2006-05-01',370500,NULL,30);
INSERT INTO EMPLE VALUES (NULL,'CEREZO','DIRECTOR',1,'2017-06-09',318500,NULL,10);
INSERT INTO EMPLE VALUES (NULL,'GIL','ANALISTA',1,'2017-11-09',390000,NULL,20);
INSERT INTO EMPLE VALUES (NULL,'REY','PRESIDENTE',1,'2015-11-17',650000,NULL,10);
INSERT INTO EMPLE VALUES (NULL,'TOVAR','VENDEDOR',1,'2001-09-08',195000,0,30);
INSERT INTO EMPLE VALUES (NULL,'ALONSO','EMPLEADO',1,'1981-09-23',143000,NULL,20);
INSERT INTO EMPLE VALUES (NULL,'JIMENO','EMPLEADO',1,'1981-12-03',123500,NULL,30);
INSERT INTO EMPLE VALUES (NULL,'FERNÁNDEZ','ANALISTA',1,'1981-12-03',390000,NULL,20);
INSERT INTO EMPLE VALUES (NULL,'MUÑOZ','EMPLEADO',1,'1982-01-23',169000,NULL,10);
COMMIT;
